/* XPECT_SETUP org.uqbar.project.wollok.tests.xpect.WollokXPectTest END_SETUP */

class Persona {
	method blah() {
		pepita.foo()
		pepita.bar()
		
		// XPECT errors --> "Wrong message fooBar() sent to pepita" at "fooBar"
		pepita.fooBar()
		
		// XPECT errors --> "Wrong message fooBar(param1, param2) sent to pepita" at "fooBar"
		pepita.fooBar(2, "hola")
		
		// XPECT errors --> "Wrong argument count in message fooWithParam() sent to pepita, however similar definitions exist: fooWithParam(p)" at "fooWithParam"
		pepita.fooWithParam()
		
		// XPECT errors --> "Wrong argument count in message fooWithParam(param1, param2, param3) sent to pepita, however similar definitions exist: fooWithParam(p)" at "fooWithParam"
		pepita.fooWithParam(new Date(), 2, 4)

		// XPECT errors --> "Wrong case-sensitive message foO() sent to pepita. Use foo()" at "foO"
		pepita.foO()
		
		// XPECT errors --> "Wrong argument count in message severalDef() sent to pepita, however similar definitions exist: severalDef(a), severalDef(a, b)" at "severalDef"
		pepita.severalDef()
		
		// XPECT errors --> "Wrong argument count in message severalDef(param1, param2, param3, param4) sent to pepita, however similar definitions exist: severalDef(a), severalDef(a, b)" at "severalDef"
		pepita.severalDef(1, 2, 3, 4)		
	}
}

class B {
	var i = pepita.foo()
	// XPECT errors --> "Wrong message zoo() sent to pepita" at "zoo"
	var x = pepita.zoo()
	
	method a() = i + x
}


object pepita {
	method foo() = 23
	method bar() = self.foo()
	method fooWithParam(p) {
	}
	method severalDef(a) { return a + 1 }
	method severalDef(a, b) = a + b
}